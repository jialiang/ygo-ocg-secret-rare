<!doctype html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Yu-Gi-Oh! OCG Secret Rare Effect with CSS</title><meta name="description" content="Yu-Gi-Oh! OCG Secret Rare Effect with CSS"><meta name="author" content="Jia Liang, hojialiang@yahoo.com"><link rel="icon" type="image/x-icon" href="https://jialiang.github.io/favicon.png"><link rel="canonical" href="https://jialiang.github.io/ygo-ocg-secret-rare/"><meta property="og:title" content="Yu-Gi-Oh! OCG Secret Rare Effect with CSS"><meta property="og:type" content="article"><meta property="og:url" content="https://jialiang.github.io/ygo-ocg-secret-rare/"><meta property="og:image" content="https://jialiang.github.io/ygo-ocg-secret-rare/preview.png"><style>@font-face{font-style:normal;font-weight:700;src:url("./fonts/Lobster Two Bold.woff2") format("woff2"),url("./fonts/Lobster Two Bold.woff") format("woff");font-family:"Lobster Two";font-display:block}@font-face{font-style:normal;font-weight:400;src:url("./fonts/Roboto Condensed Regular.woff2") format("woff2"),url("./fonts/Roboto Condensed Regular.woff") format("woff");font-family:"Roboto Condensed";font-display:block}@font-face{font-style:normal;font-weight:500;src:url("./fonts/Roboto Condensed Medium.woff2") format("woff2"),url("./fonts/Roboto Condensed Medium.woff") format("woff");font-family:"Roboto Condensed";font-display:block}@font-face{font-style:normal;font-weight:700;src:url("./fonts/Roboto Condensed Bold.woff2") format("woff2"),url("./fonts/Roboto Condensed Bold.woff") format("woff");font-family:"Roboto Condensed";font-display:block}@font-face{font-style:normal;font-weight:400;src:url("./fonts/Stone Serif Regular.woff2") format("woff2"),url("./fonts/Stone Serif Regular.woff") format("woff");font-family:"Stone Serif";font-display:block}@font-face{font-style:normal;font-weight:400;src:url("./fonts/Yu-Gi-Oh! Matrix Small Caps 2 Regular.woff2") format("woff2"),url("./fonts/Yu-Gi-Oh! Matrix Small Caps 2 Regular.woff") format("woff");font-family:"Yu-Gi-Oh! Matrix Small Caps 2";font-display:block}body{margin:0;background:radial-gradient(farthest-corner circle at center, snow, #d6e4f9 50%, #fbe7f8);background-attachment:fixed;line-height:1;font-family:"Roboto Condensed",sans-serif}img{display:block;width:100%;height:100%;color:rgba(0,0,0,0)}.hint{text-align:center}.border{position:fixed;top:0;right:0;left:0;z-index:-1;filter:drop-shadow(0 0 0.5rem white);contain:strict;margin:auto;width:50rem;max-width:100%;height:40rem}.border .corner{position:absolute;background:url("./images/border/corner.svg") 0 0/100% 100% no-repeat;width:5rem;height:5rem}.border .top-left{top:1rem;left:1rem;transform:scaleY(-1)}.border .top-right{top:1rem;right:1rem;transform:scaleY(-1) scaleX(-1)}.border .bottom-left{bottom:1rem;left:1rem}.border .bottom-right{right:1rem;bottom:1rem;transform:scaleX(-1)}.border .vertical{position:absolute;top:6rem;background:url("./images/border/vertical.svg") 0 0/5rem 5rem repeat-y;width:5rem;height:calc(100% - 12rem)}.border .left{left:1rem}.border .right{right:1rem;transform:scaleX(-1)}.border .horizontal{position:absolute;left:6rem;background:url("./images/border/horizontal.svg") 0 0/5rem 5rem repeat-x;width:calc(100% - 12rem);height:5rem}.border .top{top:1rem;transform:scaleY(-1)}.border .bottom{bottom:1rem}.card-container{box-sizing:border-box;contain:strict;margin:auto;padding:4em 0 3em;width:100%;height:39.25em;overflow:auto hidden}.card-container figcaption{font-size:0}.touchpad{transform:scale3d(0.8, 0.8, 1);transform-origin:center top;perspective:500px;margin:auto;width:22.125em;height:32.25em;font-size:1.25rem}.card{position:relative;transform:rotateX(var(--rot-x)) rotateY(var(--rot-y));filter:saturate(1.1);transition:1s transform,1s opacity,1s filter,1s box-shadow,1s background-position;contain:strict;box-shadow:0 0 1em rgba(0,0,0,.5);border-radius:.75em;width:100%;height:100%;--x: 1px;--y: 1px;--o: 0.01;--rot-x: 0.1deg;--rot-y: 0.1deg}.card.mouseover{transition:none;box-shadow:calc(var(--x)*.05) calc(var(--y)*.05) 1em rgba(0,0,0,.33)}.card.mouseover .dim-more{filter:brightness(0.7) contrast(1.15)}.card.mouseover .dim{filter:brightness(0.825) saturate(1.1)}.card.mouseover .dim-less{filter:brightness(0.9) contrast(1.05)}.card *{transition:inherit;contain:strict}.stock{position:absolute;inset:0;border-radius:.75em}.name{position:absolute;top:1.875em;left:2em;width:16.1875em;height:1.25em}.attribute{position:absolute;top:1.5em;left:18.5em;border-radius:100%;width:2em;height:2em}.stars{display:flex;position:absolute;top:3.9375em;left:8.1875em;justify-content:space-between;width:11.625em;height:1.375em;white-space:nowrap}.stars .star{width:1.375em;height:1.375em}.artwork,.cutout{position:absolute;top:5.8125em;left:2.625em;width:16.875em;height:16.875em}.artwork{z-index:-1}.cutout{-webkit-mask:url("./images/optimized/artwork-mask.png") 0 0/100% 100%;mask:url("./images/optimized/artwork-mask.png") 0 0/100% 100%;pointer-events:none}.holo{position:absolute;opacity:var(--o);mix-blend-mode:color-dodge;inset:1px;border-radius:.75em;pointer-events:none;background:repeating-linear-gradient(30deg, rgb(255, 120, 0), rgb(255, 120, 0), rgb(255, 255, 0), rgb(0, 255, 0), rgb(0, 255, 255), rgb(0, 120, 255), rgb(0, 255, 255), rgb(0, 255, 0), rgb(255, 255, 0), rgb(255, 120, 0) 30em) calc(-22.125em + var(--x)*-2) calc(-32.25em + var(--y) * -2)/300% 300% no-repeat,linear-gradient(transparent, rgba(0, 0, 0, 0.75), transparent) 0 0/100% 3px,radial-gradient(transparent, rgba(0, 0, 0, 0.5)) 0 0/2px 2px,url("./images/glitter.png") -1px -1px/22.125em 32.25em,url("./images/holofoil-mask.svg") -1px -1px/22.125em 32.25em,linear-gradient(transparent 40%, #fff 49%, #fff 51%, transparent 60%) 0 calc(var(--y) * -0.2)/100% 7.5em,linear-gradient(90deg, transparent 50%, #fff 59%, #fff 61%, transparent 70%) calc(var(--x)*-0.2) 0/7.6em 100%,linear-gradient(90deg, transparent 55%, #fff, transparent 65%) calc(var(--x)*-0.4) 0/7.5em 100%,#1a1a1a;background-blend-mode:color,normal,normal,normal,normal,normal,normal,normal,normal}.number{position:absolute;top:23.125em;left:16.3125em;contain:layout style paint}.number span{vertical-align:top;font-size:.65625em;font-family:"Stone Serif",serif}.description{position:absolute;top:24.1875em;left:1.75em;width:18.625em;height:5.125em}.atk-def{display:flex;position:absolute;top:29.125em;left:11.75em;gap:.5em;contain:layout style paint}.atk-def div{contain:layout style paint;font-size:1.28125em;font-family:"Yu-Gi-Oh! Matrix Small Caps 2",serif;letter-spacing:.01875em}.passcode{position:absolute;top:30.75em;left:1.4375em;contain:layout style paint}.passcode span{vertical-align:top;font-size:.5625em;font-family:"Stone Serif",serif;letter-spacing:.01875em}.copyright{position:absolute;top:30.75em;left:11.8125em;width:8.1875em;height:.5625em}.hologram{position:absolute;top:30.375em;left:20.3125em;width:1.125em;height:1.125em}.diffuse-reflection,.specular-reflection{position:absolute;opacity:calc(var(--o)*10);inset:0;border-radius:.75em;background-position:calc(50% + var(--x)) calc(50% + var(--y)) !important;pointer-events:none}.diffuse-reflection{mix-blend-mode:plus-lighter;background:radial-gradient(farthest-corner circle at center, rgba(255, 255, 255, 0.225) 25%, rgba(255, 255, 255, 0) 50%) no-repeat}.specular-reflection{-webkit-mask:url("./images/name.svg") 2em 1.875em/16.1875em auto no-repeat,url("./images/hologram.png") 20.3125em 30.375em/1.125em auto no-repeat;mask:url("./images/name.svg") 2em 1.875em/16.1875em auto no-repeat,url("./images/hologram.png") 20.3125em 30.375em/1.125em auto no-repeat;background:radial-gradient(farthest-corner circle at center, #fff 50%, transparent 75%) no-repeat}.specular-reflection+.hologram{opacity:.5}.text{margin:1rem auto 6rem;box-shadow:0 0 1rem rgba(0,0,0,.15);border-radius:4rem;background:#fff;padding:4rem 2rem 8rem;max-width:40rem;color:#1c1c1c;font-size:1.25rem;line-height:1.5}@media(max-width: 40rem){.text{padding-right:1rem;padding-left:1rem}}.text nav{margin:4rem 0 0}.text nav>ol{padding-left:1.5rem}.text h1,.text h2,.text strong{color:#000}.text h1,.text h2{line-height:1.125}.text h1{margin:0;font-size:4.5rem;font-family:"Lobster Two",cursive;text-align:center}@media(max-width: 32.5rem){.text h1{font-size:4rem}}@media(max-width: 30rem){.text h1{font-size:3.5rem}}@media(max-width: 26.25rem){.text h1{font-size:3rem}}.text h2{margin:4rem 0 -1rem;font-size:2rem}.text p{margin:2rem 0 0}.text p+ul,.text p+ol{margin-top:.5rem}.text ul{list-style-type:disc}.text ul,.text ol{margin:2rem 0 0}.text ul li+li,.text ol li+li{margin-top:.5rem}.text a{outline:none !important;color:#5263ff;font-weight:500;text-decoration:none}.text a:hover{color:#db00ac}.text a:hover,.text a:focus,.text a:focus-visible{-webkit-text-decoration:2px solid underline;text-decoration:2px solid underline}.text a:focus:not(:hover,:focus-visible){text-decoration:none}</style></head><body><div class="border"><div class="corner top-left"></div><div class="corner top-right"></div><div class="corner bottom-left"></div><div class="corner bottom-right"></div><div class="vertical left"></div><div class="vertical right"></div><div class="horizontal top"></div><div class="horizontal bottom"></div></div><figure class="card-container"><figcaption>Japanese "Witchcrafter Madame Verre" Yu-gi-oh! OCG card.</figcaption><div class="touchpad"><div class="card" lang="ja"><picture><source srcset="./images/optimized/stock.avif" type="image/avif"><source srcset="./images/optimized/stock.webp" type="image/webp"><img class="stock dim" src="./images/optimized/stock.png" alt="" loading="eager" fetchpriority="high"></picture><div class="name dim-more notranslate" translate="no"><img src="./images/name.svg" alt="ウィッチクラフトマスター・ヴェール"></div><div class="attribute"><img class="dim" src="./images/light.svg" alt="光属性"></div><div class="stars" role="img" aria-label="レベル 8"><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div><div class="star"><img class="dim" src="./images/star.png" alt=""></div></div><div class="artwork dim-more"><picture><source srcset="./images/optimized/artwork.avif" type="image/avif"><source srcset="./images/optimized/artwork.webp" type="image/webp"><img src="./images/optimized/artwork.png" alt="カードアートワーク：毛皮をアクセントにした白いドレスを着た青ピンクのロングヘアの自信に満ちた少女が、魔法の杖を持ち、クリスタルの玉座に座っている。" loading="eager" fetchpriority="high"></picture></div><div class="holo"></div><div class="cutout dim-less"><picture><source srcset="./images/optimized/artwork.avif" type="image/avif"><source srcset="./images/optimized/artwork.webp" type="image/webp"><source srcset="./images/optimized/artwork.png" type="image/png"><img src="./images/optimized/artwork.png" alt=""></picture></div><div class="number"><span>DBIC-JP019</span></div><div class="description"><img src="./images/description.svg" alt="【魔法使い族／効果】このカード名の①②の効果はそれぞれ１ターンに１度しか使用できない。①：自分の魔法使い族モンスターが相手モンスターと戦闘を行うダメージ計算時に発動できる。カード名が異なる手札の魔法カードを任意の数だけ相手に見せ、その自分のモンスターの攻撃力・守備力をターン終了時まで、見せた数×１０００アップする。②：自分・相手ターンに、手札から魔法カード１枚を捨てて発動できる。相手フィールドの全ての表側表示モンスターの効果をターン終了時まで無効にする。" fetchpriority="low"></div><div class="atk-def"><div>ATK/1000</div><div>DEF/2800</div></div><div class="passcode"><span>21522601</span></div><div class="copyright"><img src="./images/copyright.svg" alt="© 高橋和希 スタジオ・ダイス／集英社"></div><div class="hologram"><img src="./images/hologram.png" alt="偽造防止ホログラム"></div><div class="diffuse-reflection"></div><div class="specular-reflection"></div><div class="hologram"><img src="./images/hologram.png" alt=""></div></div></div></figure><p class="hint">Hover over the card to see the visual effect.</p><article class="text"><div><h1 id="yu-gi-oh-ocg-secret-rare-effect-with-css">Yu-Gi-Oh! OCG Secret Rare Effect with CSS</h1> <nav aria-label="Table of Contents"><ol><li><a href="#background" class="h2">Background</a></li><li><a href="#spotlight-layer" class="h2">Spotlight Layer</a></li><li><a href="#holographic-foil-layer" class="h2">Holographic Foil Layer</a></li><li><a href="#name-and-hologram-layer" class="h2">Name and Hologram Layer</a></li><li><a href="#challenges" class="h2">Challenges</a></li><li><a href="#other-implementation-details" class="h2">Other Implementation Details</a></li><li><a href="#accessibility" class="h2">Accessibility</a></li><li><a href="#credits" class="h2">Credits</a></li></ol></nav>
<h2 id="background">Background</h2>
<p>This project was first published in January 2021. In March 2025, I re-evaluated my past projects and found this one as the most in need of a revamp.</p>
<p>Remembering Simon Goellner&#39;s amazing <a href="https://poke-holo.simey.me/">Pokémon Cards Holographic Effect in CSS</a> from 2022, I decided to explore and apply his technique.</p>
<p>If you have any suggestions for improvements, do leave a comment on the <a href="https://github.com/jialiang/ygo-ocg-secret-rare">Github Repo</a>.</p>
<h2 id="spotlight-layer">Spotlight Layer</h2>
<p>The Spotlight layer features a white-to-transparent radial gradient. It blends with the content below using the Plus-Lighter blend mode. Plus-Lighter sums the pixel values of the top and bottom layers.</p>
<p>This <a href="https://www.desmos.com/calculator/g8wmd3dsak">Plus-Lighter vs Color Dodge vs Screen Output Comparison Graph</a> compares Plus-Lighter with other similar blend modes.</p>
<p>Plus-Lighter can simulate a bright light even at low strength, which preserves contrast and thereby details. It does so by enforcing a value floor and allowing overexposure. The former delineates the light spot and the latter conveys brightness.</p>
<h2 id="holographic-foil-layer">Holographic Foil Layer</h2>
<p>In the Holographic Foil layer, a rainbow linear gradient blends with a black-white layer mask using the Color blend mode. The output has the former&#39;s hue and saturation, and the latter&#39;s lightness.</p>
<p>This output is then blended with the content below using the Color Dodge blend mode. Color Dodge works like a highlighter. It brightens the bottom layer based on the top layer&#39;s values. If the top layer is black, the bottom layer stays the same.</p>
<h2 id="name-and-hologram-layer">Name and Hologram Layer</h2>
<p>The shininess of the Name and Hologram is created by applying a CSS mask on an element containing a white-to-transparent radial gradient.</p>
<h2 id="challenges">Challenges</h2>
<p>On Safari 18.2 and earlier, 2 bugs were encountered:</p>
<ol>
<li>Blending with Color fails between elements on different composition layers. Since CSS transform promotes elements to their own composition layer, CPU-heavy background position changes were used for animations instead. <a href="https://bugs.webkit.org/show_bug.cgi?id=196303">Bug report on Webkit Bugzilla</a>.</li>
<li>Elements on composition layers that underwent tiling also fail to blend. Tiling is when browsers split layers into distinct regions to be rendered progressively. This issue was happening to the rainbow gradient, setting it no-repeat solved the problem. <a href="https://bugs.webkit.org/show_bug.cgi?id=250828">Bug report on Webkit Bugzilla</a>.</li>
</ol>
<p>On the latest version of Firefox, 2 different bugs were encountered:</p>
<ol>
<li>On Intel GPUs, blending with Color Dodge wrongly outputs a dark color when the top layer is white and has a specific opacity. In my case, the issue occurs only at 90% opacity, sidestepping this value avoids the issue. <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1591918">Bug report on Mozilla Bugzilla</a>.</li>
<li>Perspective transformed elements can appear blurry from being rendered at an incorrectly low internal resolution. To fix this, the card was made 25% larger and scaled back to the intended size using CSS transform. <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1806281">Bug report on Mozilla Bugzilla</a>.</li>
</ol>
<p>The Japanese texts were meant to be actual text instead of SVG images. Because browsers avoid blurring text for legibility, the small font sizes made them harsh and overly bold: <a href="./images/linked/text%20vs%20image%20rendering.png">Comparison of 9px text (top) vs image (bottom)</a>. Also, Chrome 117 and earlier have a 10px minimum font size default for Japanese. The card would need to be huge to accommodate such a minimum.</p>
<h2 id="other-implementation-details">Other Implementation Details</h2>
<p>For raster images, the WEBP and AVIF formats are used. To balance file size and quality, an SSIMULACRA 2 score above 90 is maintained to ensure images are visually lossless.</p>
<p>The <a href="./images/linked/official%20proxy.png">Official Proxy</a> from the <a href="https://yu-gi-oh.jp/news_detail.php?page=details&&id=497">Infinity Chasers announcement page</a> is used as reference. For fans, I also found an official <a href="./images/linked/cute%20day.png">Madame Verre 9/17 Cute Day Promotional Image</a>.</p>
<h2 id="accessibility">Accessibility</h2>
<p>I&#39;ve tested this webpage with NVDA (Non-Visual Desktop Access) and found all text and key elements to make sense to non-screen users.</p>
<p>This webpage should be compatible with major browsers released in the last year or maybe older. The oldest browser I have available for testing is Safari 15.4 released in March 2022.</p>
<h2 id="credits">Credits</h2>
<ul>
<li>The <a href="https://www.deviantart.com/alanmac95/art/Witchcraft-Master-Verre-Full-Artwork-775338144">artwork for the card</a> was created by Alan.</li>
<li>The card stock was sourced from Alixsep&#39;s <a href="https://www.deviantart.com/alixsep/art/Ultimate-HQ-Yu-Gi-Oh-Series-10-Card-Template-845251557">Ultimate HQ Yu-Gi-Oh! Series 10 Card Template</a>.</li>
<li>The hologram was taken from Icycatelf&#39;s <a href="https://www.deviantart.com/icycatelf/art/YGO-Series-10-Master-PSD-676448168">YGO Series 10 Master PSD</a>.</li>
<li>The <a href="https://yugipedia.com/wiki/File:LIGHT.svg">attribute icon</a> was made by Falzar FZ.</li>
</ul>
</div></article><script>const card = document.querySelector(".card");
const touchpad = document.querySelector(".touchpad");

let rect, width, height, centerX, centerY, dxyMax;

let rotStepsLeft, lastRotTime, currentRotX, currentRotY, finalRotX, finalRotY;

let updateRectTimer = null;
let rectChanged = true;

let lastStart = 0;
let lastEnd = 0;

const lastRafId = {
  rot: 0,
  move: 0,
  end: 0,
};

const raf = (key, callback) => {
  cancelAnimationFrame(lastRafId[key]);

  if (callback) lastRafId[key] = requestAnimationFrame(callback);
};

const updateRect = () => {
  clearTimeout(updateRectTimer);

  if (!rectChanged) return;

  rectChanged = false;
  rect = touchpad.getBoundingClientRect();

  width = rect.width;
  height = rect.height;

  centerX = width / 2;
  centerY = height / 2;

  dxyMax = Math.hypot(centerX, centerY);
};

requestAnimationFrame(() => {
  requestAnimationFrame(updateRect);
});

window.addEventListener("resize", () => {
  rectChanged = true;
  clearTimeout(updateRectTimer);
  updateRectTimer = setTimeout(updateRect, 300);
});

window.addEventListener("scroll", () => {
  if (window.scrollY - window.innerHeight * 2 > 0) return;

  rectChanged = true;
  clearTimeout(updateRectTimer);
  updateRectTimer = setTimeout(updateRect, 300);
});

const resetRot = () => {
  rotStepsLeft = 300;
  lastRotTime = 0;

  currentRotX = 0;
  currentRotY = 0;

  finalRotX = 0;
  finalRotY = 0;
};

resetRot();

const rot = (now) => {
  if (lastEnd >= lastStart) return;

  if (rotStepsLeft > 0) {
    if (lastRotTime === 0) lastRotTime = now;

    const elapsed = now - lastRotTime;

    if (elapsed <= 4) return raf("rot", rot);

    const dRotX = (finalRotX - currentRotX) * Math.min(1, elapsed / rotStepsLeft);
    const dRotY = (finalRotY - currentRotY) * Math.min(1, elapsed / rotStepsLeft);

    currentRotX += dRotX;
    currentRotY += dRotY;
    rotStepsLeft -= elapsed;
    lastRotTime = now;

    raf("rot", rot);
  } else {
    currentRotX = finalRotX;
    currentRotY = finalRotY;
  }

  card.style.setProperty("--rot-x", `${currentRotX.toFixed(2)}deg`);
  card.style.setProperty("--rot-y", `${currentRotY.toFixed(2)}deg`);
};

const move = (e) => {
  e.preventDefault();

  raf("move");
  raf("rot");

  raf("move", (now) => {
    if (lastEnd >= lastStart) return;

    updateRect();

    let rawX, rawY;

    if (e.type === "mousemove") {
      rawX = e.clientX;
      rawY = e.clientY;
    }

    if (e.type === "touchmove") {
      rawX = e.touches[0].clientX;
      rawY = e.touches[0].clientY;

      if (rawX < rect.left || rawX > rect.right || rawY < rect.top || rawY > rect.bottom) {
        return end();
      }
    }

    const x = Math.round(rawX - rect.left - centerX);
    const y = Math.round(rawY - rect.top - centerY);

    let o = Math.round((1.825 - Math.hypot(x, y) / dxyMax) * 100) / 100;

    if (o === 0.9) o = 0.91;

    finalRotX = (y / centerY) * 3;
    finalRotY = (x / centerX) * -3;

    rot(now);

    card.classList.add("mouseover");

    card.style.setProperty("--x", `${x * 1.25}px`);
    card.style.setProperty("--y", `${y * 1.25}px`);
    card.style.setProperty("--o", `${o}`);
  });
};

const start = () => {
  lastStart = performance.now();
};

const end = () => {
  lastEnd = performance.now();

  raf("end", () => {
    card.classList.remove("mouseover");
    card.style.cssText = "";

    resetRot();
  });
};

touchpad.addEventListener("mouseenter", start, { passive: true });
touchpad.addEventListener("touchstart", start, { passive: true });

touchpad.addEventListener("mousemove", move);
touchpad.addEventListener("touchmove", move);

touchpad.addEventListener("mouseleave", end, { passive: true });
touchpad.addEventListener("touchend", end, { passive: true });
touchpad.addEventListener("touchcancel", end, { passive: true });</script></body></html>